---
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
    name: alertmanager-secret
    namespace: monitoring
spec:
    secretStoreRef:
        kind: ClusterSecretStore
        name: bitwarden-fields
    target:
        name: alertmanager-secret
        creationPolicy: Owner
    data:
        - secretKey: pushover_api_token
          remoteRef:
            key: pushover
            property: alertmanager_apikey
        - secretKey: pushover_api_userkey
          remoteRef:
            key: pushover
            property: userkey
        - secretKey: discord_alert_webhook
          remoteRef:
            key: discordapp.com
            property: alert_webhook
